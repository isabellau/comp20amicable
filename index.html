<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title> Amicable Numbers </title>
  </head>

  <body>
    <h1>Amicable Numbers</h1>

    <div id="Num1" style="display:none;">
      &nbsp;
    </div>

    <div id="Num2" style="display:none;">
      &nbsp;
    </div>

    <div id="testshowfactors" style="display:none;">
      &nbsp;
    </div>


    <h2>Submit Your Potentially Amicable Numbers</h2>
    <form action="/action_page.php" method="get">
      <label for="number1"> Number 1</label>
      <input type="text" id="number1" name="number1" /><br /><br />
      <label for="number2"> Number 2</label>
      <input type="text" id="number2" name="number2" /><br /><br />
      <input
        type="button"
        value="Submit"
        value="Submit"
        onclick="isAmicable()"
      />
    </form>


      <h2>Results</h2>
      <div id="amicableresults" style = "display:none;">&nbsp;</div>


    <script language="Javascript">

     function isAmicable() {

        var firstnum = document.getElementById("number1").value;
        var secondnum = document.getElementById("number2").value;

        var facts1 = new Array();

        facts1 = getFactors(firstnum);

        var facts2 = new Array();

        facts2 = getFactors(secondnum);

        var sum1 = addFactors(facts1);

        var sum2 = addFactors(facts2);

        if (sum1 == sum2) {
          var printout = "These numbers are amicable";
          document.getElementById("amicableresults").innerHTML = printout;
          document.getElementById("amicableresults").style.display = "block";

        }

        else {
          var printout = "These numbers are not amicable";
          document.getElementById("amicableresults").innerHTML = printout;
          document.getElementById("amicableresults").style.display = "block";
        }
     }

     function isFactor(number, testnumber) {
        return Boolean(number % testnumber == 0);
     }

     function showFactors(factors) {
      var arrstring = "";

       for (i = 0; i < factors.length; i++) {
          arrstring = arrstring + factors[i] + " ";
        }

      document.getElementById("testshowfactors").innerHTML = arrstring;

      document.getElementById("testshowfactors").style.display = "block";
     }

     function addFactors(factorarr) {

      var sum = 0;

      for (i = 0; i < factorarr.length; i++) {
          sum += factorarr[i];
      }

      return sum;

     }

     function getFactors(num) {


      var i = 1;

      var facts = new Array();

      while (i <= num) {

        if(isFactor(num, i)) {
          facts.push(i);
        }

        i++;
      }

      return facts;

     }
     

    // function testgetFactors() {
    //     alert("start!");

    //     var num = 100;

    //     var result = new Array();

    //     alert("pre call!");

    //     result = getFactors(num);

    //     showFactors(result);
    //  }

     // function testaddFactors() {
     //    alert("start!");

     //    var nums = new Array();

     //    nums = [1, 2, 3, 4, 5, -15];

     //    alert("pre call!");
     //    var result = addFactors(nums);

     //    document.write(result);

     // }

     // function testshowFactors() {

     //  alert("start!");

     //    var nums = new Array();

     //    nums = [1, 12345, 9876, -1, -34, 2345, 342, 234];
     //    // for (i = 0; i < 5; i++) {
     //    //   var randnum = Math.floor(Math.random() * 48 + 1);

     //    //   while (nums.includes(randnum, 0)) {
     //    //     randnum = Math.floor(Math.random() * 48 + 1);
     //    //   }

     //    //   nums.push(randnum);
     //    // }

     //    alert("pre function call!");
     //    showFactors(nums);
     // }


    // TEST IS FACTOR (I hardcoded different examples)
    // function testisFactor() {

    //   // alert("in test!");

    //   var realnum = 3;
    //   var testnum = 2;  

    //   var result = isFactor(realnum, testnum);

    //   if(isFactor(realnum, testnum)) {
    //       alert("made it");
    //   }

    //   else {
    //     document.write("not divisible :(");
    //   }
     
    // }


    </script>

  </body>
</html>
